<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Living as a Sojourner]]></title>
  <link href="http://blog.ztap.net/atom.xml" rel="self"/>
  <link href="http://blog.ztap.net/"/>
  <updated>2013-08-14T14:46:47+08:00</updated>
  <id>http://blog.ztap.net/</id>
  <author>
    <name><![CDATA[Hank Bao]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[-[UIViewController viewDidUnload] not Called when Received a Memory Warning on iOS 5]]></title>
    <link href="http://blog.ztap.net/2013/08/uiviewcontroller-viewdidunload-not-called-when-received-memory-warning-on-ios-5/"/>
    <updated>2013-08-13T18:19:00+08:00</updated>
    <id>http://blog.ztap.net/2013/08/uiviewcontroller-viewdidunload-not-called-when-received-memory-warning-on-ios-5</id>
    <content type="html"><![CDATA[<p>
Wat? iOS 5? Are you serious?
</p>


<p>
Yea, I know that your shining iPhone 5 is running the latest iOS 7 beta nowdays. But still there are customers having some app we wrote and sticking on old devices. Especially considering that the booming market of jailbroken devices in China, dropping support for legacy OS is not a easy decision anyway. 
</p>


<p>
Long story short. Recently we found some UIViewController subclasses in our app don&#8217;t unload their views when they received a memory warning. After diagnosis, it turns out that only some of view controllers instantiated without a XIB file behave abnormally.
</p>


<!-- more -->


<p>
UIViewController&#8217;s view loading mechanism is well documented in the <a href="http://developer.apple.com/library/ios/featuredarticles/ViewControllerPGforiPhoneOS/ViewLoadingandUnloading/ViewLoadingandUnloading.html#//apple_ref/doc/uid/TP40007457-CH10-SW2">View Controller Programming Guide for iOS</a>. It instantiates its view in loadView method either by loading it from a associated XIB/storyboard file or creating it programmatically. Actually there are three different cases:
</p>


<ul>
<li>view controller associated with a XIB/storyboard file
</li>
<li>view controller without a XIB/storyboard file but overriding loadView method to create a view programmatically
</li>
<li>view controller without a XIB/storyboard file and not overriding loadView method
</li>
</ul>




<p>
In the third case, UIViewController will create an empty UIView object and assigned it to its view property. But for some unknown reason, it doesn&#8217;t unload it when received a memory warning. Therefore your viewDidUnload method will certainly not get called. This is a weird and undocumented behavior.
</p>


<p>
After overriding loadView method to create and set view, all our view controllers behave correctly on iOS 5 now.
</p>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Blogging with Octopress and Emacs org-mode]]></title>
    <link href="http://blog.ztap.net/2013/02/blogging-with-octopress-and-emacs-org-mode/"/>
    <updated>2013-02-16T18:24:00+08:00</updated>
    <id>http://blog.ztap.net/2013/02/blogging-with-octopress-and-emacs-org-mode</id>
    <content type="html"><![CDATA[<p>
After using Vim as my default editor for about 2 years, I decide to switch to Emacs. There isn&#8217;t any special reason for this migration. In fact, it&#8217;s just becasue something kept agitating in my heart. I want to try some new stuff.
</p>


<p>
Obviously the learning curve of Emacs is very high. IMO even higher than Vim. After tried to learn Vim 2 years ago, I realized that the keypoint to master those heavy weapon is using them to destory some real targets. I&#8217;ve used Vim to code since 2 years ago and turned nearly every general key-bindings to the muscle memory. I want to replicate that process with Emacs and the famous <a href="http://orgmode.org">org-mode</a>.
</p>


<!-- more -->


<p>
Recently I started a <a href="http://blog.ztap.net">blog</a> on <a href="http://pages.github.com">github pages</a> with <a href="http://octopress.org">Octopress</a>. The Octopress is handy and the syntax of markdown is just similar to org-mode. So why not write blogs in org-mode and publish them with Octopress? After googled on the Internet, I found some nice articles to help me blogging with Octopress and org-mode.
</p>


<p>
So here comes my product. :)
</p>


<p>
<b>Thanks to</b>:
</p>


<ul>
<li>paphus and his article <a href="http://blog.paphus.com/blog/2012/08/01/introducing-octopress-blogging-for-org-mode/">Introducing Octopress Blogging for Org-Mode</a>
</li>
<li>xeonxu and his article <a href="http://blog.xeonxu.info/blog/2012/09/05/you-hua-shi-yong-orgmodefa-bu-octopressde-fang-fa/">优化使用Orgmode发布Octopress的方法</a>
</li>
</ul>



]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Living as a sojourner]]></title>
    <link href="http://blog.ztap.net/2013/02/living-as-a-sojourner/"/>
    <updated>2013-02-04T18:59:00+08:00</updated>
    <id>http://blog.ztap.net/2013/02/living-as-a-sojourner</id>
    <content type="html"><![CDATA[<blockquote><p>The land shall not be sold for ever: for the land is mine; for ye are strangers and sojourners with me.</p><footer><strong>Leviticus 25:23</strong> <cite><a href='http://www.kingjamesbibleonline.org/1611_Leviticus-25-23/'>KJV</a></cite></footer></blockquote>

]]></content>
  </entry>
  
</feed>
